(this["webpackJsonppolice-brutality-data-visualizations"]=this["webpackJsonppolice-brutality-data-visualizations"]||[]).push([[0],{149:function(t,e,n){},150:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(45),c=n.n(o),u=(n(52),n(5)),i=n.n(u),s=n(17),l=n(28),d=n(26),f=(n(149),n(27)),p=n.n(f),m=function(){var t=Object(s.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://raw.githubusercontent.com/2020PB/police-brutality/data_build/all-locations.json");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.data);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(t){return t.reduce((function(t,e){if(!e.date)return t;var n=new Date(e.date),a=t.find((function(t){return t.x.getTime()===n.getTime()}));return a?a.y+=1:t.push({x:n,y:1}),t}),[]).map((function(t){return t.x.setHours(0,0,0),t})).sort((function(t,e){return e.x.getTime()-t.x.getTime()}))},b=function(t){var e=t.reduce((function(t,e){var n="".concat(e.city,", ").concat(e.state);return t[n]=t[n]||0,t[n]+=1,t}),{}),n=Object.entries(e).sort((function(t,e){return e[1]-t[1]}));return{locations:n.map((function(t){return t[0]})),values:n.map((function(t){return t[1]}))}},v=function(){var t=Object(a.useState)([]),e=Object(l.a)(t,2),n=e[0],o=e[1],c=Object(a.useState)({}),u=Object(l.a)(c,2),f=u[0],v=u[1];return Object(a.useEffect)((function(){Object(s.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:e=t.sent,o(h(e)),v(b(e));case 5:case"end":return t.stop()}}),t)})))()}),[]),r.a.createElement("div",{className:"App"},n.length>0&&r.a.createElement(d.a,{data:{datasets:[{label:"Incidents",data:n,backgroundColor:p()({hue:"red"})}]},options:{scales:{xAxes:[{type:"time",time:{unit:"day"}}]}}}),f.values&&r.a.createElement(d.b,{data:{datasets:[{data:f.values,backgroundColor:p()({count:f.locations.length,hue:"red",alpha:.5})}],labels:f.locations},options:{type:"doughnut",cutoutPercentage:25}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},47:function(t,e,n){t.exports=n(150)},52:function(t,e,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.02198a53.chunk.js.map